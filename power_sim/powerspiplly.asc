Version 4
SHEET 1 948 680
WIRE 32 -272 -240 -272
WIRE 96 -272 32 -272
WIRE 416 -272 192 -272
WIRE 736 -272 416 -272
WIRE 880 -272 736 -272
WIRE 736 -256 736 -272
WIRE 32 -240 32 -272
WIRE -240 -160 -240 -272
WIRE 112 -160 112 -224
WIRE 112 -160 32 -160
WIRE 112 -144 112 -160
WIRE 576 -112 512 -112
WIRE 880 -96 880 -272
WIRE 576 -80 576 -112
WIRE 736 -32 736 -176
WIRE 736 -32 656 -32
WIRE 112 -16 112 -64
WIRE 512 0 512 -112
WIRE 608 16 544 16
WIRE 736 16 736 -32
WIRE 208 32 176 32
WIRE 336 32 288 32
WIRE 416 32 400 32
WIRE 480 32 416 32
WIRE 560 48 544 48
WIRE 656 48 656 -32
WIRE 656 48 560 48
WIRE 416 96 416 32
WIRE 736 128 736 96
WIRE 880 128 880 -16
WIRE -240 144 -240 -80
WIRE 112 144 112 80
WIRE 512 160 512 144
WIRE 608 176 608 16
WIRE 416 224 416 160
WIRE 448 224 416 224
WIRE 560 224 560 48
WIRE 560 224 528 224
WIRE 608 272 608 256
FLAG 112 144 0
FLAG 736 128 0
FLAG 608 272 0
FLAG -240 144 0
FLAG 576 -80 0
FLAG 512 160 0
FLAG 880 128 0
FLAG 416 -272 Vout
SYMBOL pnp 176 80 R180
SYMATTR InstName Q1
SYMATTR Value BC557B
SYMBOL res 96 -160 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 304 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL diode 400 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 720 -272 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 720 0 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL voltage 608 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(10 10 50)
SYMBOL voltage -240 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL voltage 512 48 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 20v
SYMBOL res 864 -112 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL pmos 192 -224 M270
SYMATTR InstName M1
SYMATTR Value IRF7343P
SYMBOL res 16 -256 R0
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL cap 400 96 R0
SYMATTR InstName C1
SYMATTR Value 2.2n
SYMBOL res 544 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1Meg
SYMBOL Comparators\\LT1716 512 32 R180
SYMATTR InstName U1
TEXT -272 296 Left 2 !.tran 1
TEXT 144 280 Left 2 !;dc V1 0 20 0.01
